kind: ZarfPackageConfig
metadata:
  name: zarf-pxe
  description: "Zarf package for PXE server"
  # architecture: amd64

variables:
  - name: IPSTART
    default: 192.168.99.100
    prompt: false
  - name: IPEND
    default: 192.168.99.200
    prompt: false
  - name: SUBNET
    default: 255.255.255.0
    prompt: false

components:
  - name: zarf-pxe
    required: true
    manifests:
      - name: zarf-pxe
        namespace: zarf-pxe
        files:
          - manifests/deployment.yaml
    images:
      - "ghcr.io/ferrarimarco/pxe:master"
      - "nginx:1.23.3"
    files:
      - source: https://releases.ubuntu.com/22.04/ubuntu-22.04.1-live-server-amd64.iso
      - target: /var/images/ubuntu-22.04.1.iso